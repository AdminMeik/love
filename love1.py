# meta developer: @YMEPOTBAC

import asyncio
import random
from .. import loader, utils
from telethon.tl.functions.channels import GetParticipantRequest
from telethon.errors import MessageNotModifiedError


@loader.tds
class HeartMod(loader.Module):
    """Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚ Ğ°Ğ½Ğ¸Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğµ ÑĞµÑ€Ğ´ĞµÑ‡ĞºĞ¾ Ğ´Ğ°ÑÑ‰Ğ¸Ğµ Ğ»ÑĞ±Ğ¾Ğ²ÑŒ."""

    strings = {
        "name": "@YMEPOTBAC Ğ›ÑĞ±Ğ¾Ğ²ÑŒ 1",
        "not_subscribed": "<b>Ğ´Ğ»Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ÑÑ‚Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒÑÑ Ğ½Ğ° ĞºĞ°Ğ½Ğ°Ğ»</b>",
    }

    def __init__(self):
        self.name = self.strings["name"]
        self._me = None
        self.heart_frames = [
            "â¬›â¬›â¬›â¬›â¬›â¬›â¬›\nâ¬›â¬›ğŸŸ«â¬›ğŸŸ«â¬›â¬›\nâ¬›ğŸŸ«ğŸŸ«ğŸŸ«ğŸŸ«ğŸŸ«â¬›\nâ¬›ğŸŸ«ğŸŸ«ğŸŸ«ğŸŸ«ğŸŸ«â¬›\nâ¬›â¬›ğŸŸ«ğŸŸ«ğŸŸ«â¬›â¬›\nâ¬›â¬›â¬›ğŸŸ«â¬›â¬›â¬›\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›",
            "â¬›â¬›â¬›â¬›â¬›â¬›â¬›\nâ¬›â¬›ğŸŸªâ¬›ğŸŸªâ¬›â¬›\nâ¬›ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªâ¬›\nâ¬›ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªâ¬›\nâ¬›â¬›ğŸŸªğŸŸªğŸŸªâ¬›â¬›\nâ¬›â¬›â¬›ğŸŸªâ¬›â¬›â¬›\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›",
            "â¬›â¬›â¬›â¬›â¬›â¬›â¬›\nâ¬›â¬›ğŸŸ¦â¬›ğŸŸ¦â¬›â¬›\nâ¬›ğŸŸ¦ğŸŸ¦ğŸŸ¦ğŸŸ¦ğŸŸ¦â¬›\nâ¬›ğŸŸ¦ğŸŸ¦ğŸŸ¦ğŸŸ¦ğŸŸ¦â¬›\nâ¬›â¬›ğŸŸ¦ğŸŸ¦ğŸŸ¦â¬›â¬›\nâ¬›â¬›â¬›ğŸŸ¦â¬›â¬›â¬›\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›",
            "â¬›â¬›â¬›â¬›â¬›â¬›â¬›\nâ¬›â¬›ğŸŸ©â¬›ğŸŸ©â¬›â¬›\nâ¬›ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©â¬›\nâ¬›ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©â¬›\nâ¬›â¬›ğŸŸ©ğŸŸ©ğŸŸ©â¬›â¬›\nâ¬›â¬›â¬›ğŸŸ©â¬›â¬›â¬›\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›",
            "â¬›â¬›â¬›â¬›â¬›â¬›â¬›\nâ¬›â¬›ğŸŸ¨â¬›ğŸŸ¨â¬›â¬›\nâ¬›ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨â¬›\nâ¬›ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨â¬›\nâ¬›â¬›ğŸŸ¨ğŸŸ¨ğŸŸ¨â¬›â¬›\nâ¬›â¬›â¬›ğŸŸ¨â¬›â¬›â¬›\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›",
            "â¬›â¬›â¬›â¬›â¬›â¬›â¬›\nâ¬›â¬›ğŸŸ§â¬›ğŸŸ§â¬›â¬›\nâ¬›ğŸŸ§ğŸŸ§ğŸŸ§ğŸŸ§ğŸŸ§â¬›\nâ¬›ğŸŸ§ğŸŸ§ğŸŸ§ğŸŸ§ğŸŸ§â¬›\nâ¬›â¬›ğŸŸ§ğŸŸ§ğŸŸ§â¬›â¬›\nâ¬›â¬›â¬›ğŸŸ§â¬›â¬›â¬›\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›",
            "â¬›â¬›â¬›â¬›â¬›â¬›â¬›\nâ¬›â¬›ğŸŸ¥â¬›ğŸŸ¥â¬›â¬›\nâ¬›ğŸŸ¥ğŸŸ¥ğŸŸ¥ğŸŸ¥ğŸŸ¥â¬›\nâ¬›ğŸŸ¥ğŸŸ¥ğŸŸ¥ğŸŸ¥ğŸŸ¥â¬›\nâ¬›â¬›ğŸŸ¥ğŸŸ¥ğŸŸ¥â¬›â¬›\nâ¬›â¬›â¬›ğŸŸ¥â¬›â¬›â¬›\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›",
            "I",
            "I ",
            "I L",
            "I LO",
            "I LOV",
            "I LOVE",
            "I LOVE ",
            "I LOVE Y",
            "I LOVE YO",
            "I LOVE YOU",  ]
        
        self.heart_frames1 = [
            "â¤ï¸ğŸ’›ğŸ’šğŸ’™ğŸ’œ",
            "ğŸ’œâ¤ï¸ğŸ’›ğŸ’šğŸ’™",
            "ğŸ’™ğŸ’œâ¤ï¸ğŸ’›ğŸ’š",
            "ğŸ’šğŸ’™ğŸ’œâ¤ï¸ğŸ’›",
            "ğŸ’›ğŸ’šğŸ’™ğŸ’œâ¤ï¸",
            "ğŸ’•ğŸ’ğŸ’“ğŸ’—ğŸ’–",
            "ğŸ’–ğŸ’•ğŸ’ğŸ’“ğŸ’—",
            "ğŸ’—ğŸ’–ğŸ’•ğŸ’ğŸ’“",
            "ğŸ’“ğŸ’—ğŸ’–ğŸ’•ğŸ’",
            "ğŸ’ğŸ’“ğŸ’—ğŸ’–ğŸ’•",
            "âœ¨ğŸŒŸğŸ’«â­ï¸ğŸŒ ",
            "ğŸŒ âœ¨ğŸŒŸğŸ’«â­ï¸",
            "â­ï¸ğŸŒ âœ¨ğŸŒŸğŸ’«",
            "ğŸ’«â­ï¸ğŸŒ âœ¨ğŸŒŸ",
            "ğŸŒŸğŸ’«â­ï¸ğŸŒ âœ¨",
            "L",
            "LO",
            "LOV",
            "LOVE",
            "LOVE ",
            "LOVE Y",
            "LOVE YO",
            "LOVE YOU",
            "â¤ï¸ LOVE YOU â¤ï¸"
        ]
 

    async def client_ready(self, client, db):
        self.client = client
        self.db = db
        self.is_ready = True

    @loader.command(ru_doc="Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚ Ğ°Ğ½Ğ¸Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğµ ÑĞµÑ€Ğ´ĞµÑ‡ĞºĞ¾.")
    async def love(self, message):
        """Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚ Ğ°Ğ½Ğ¸Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğµ ÑĞµÑ€Ğ´ĞµÑ‡ĞºĞ¾."""
        try:
            is_subscribed = True  # Ğ—Ğ°Ğ³Ğ»ÑƒÑˆĞºĞ°, Ğ¿Ğ¾ĞºĞ° Ğ½ĞµÑ‚ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸

            if not is_subscribed:
                await utils.answer(message, self.strings["not_subscribed"])
                return

            for frame in self.heart_frames:
                try:
                    await utils.answer(message, f"<pre>{frame}</pre>")
                    await asyncio.sleep(0.25)
                except MessageNotModifiedError:
                    pass
        except Exception as e:
            print(f"Ğ¾ÑˆĞ¸Ğ±ĞºĞ° Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸ ÑĞµÑ€Ğ´ĞµÑ‡ĞºĞ°: {e}")

    @loader.command(ru_doc="Ğ°Ğ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ½Ğ°Ñ Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ ÑĞµÑ€Ğ´ĞµÑ‡ĞºĞ° Ñ ÑĞ¼Ğ¾Ğ´Ğ·Ğ¸.")
    async def love1(self, message):
        """Ğ°Ğ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ½Ğ°Ñ Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ ÑĞµÑ€Ğ´ĞµÑ‡ĞºĞ° Ñ ÑĞ¼Ğ¾Ğ´Ğ·Ğ¸."""
        try:
            is_subscribed = True  # Ğ—Ğ°Ğ³Ğ»ÑƒÑˆĞºĞ°, Ğ¿Ğ¾ĞºĞ° Ğ½ĞµÑ‚ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸

            if not is_subscribed:
                await utils.answer(message, self.strings["not_subscribed"])
                return

            for frame in self.heart_frames1:
                try:
                    await utils.answer(message, frame)
                    await asyncio.sleep(0.3)
                except MessageNotModifiedError:
                    pass
        except Exception as e:
            print(f"Ğ¾ÑˆĞ¸Ğ±ĞºĞ° Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸ ÑĞµÑ€Ğ´ĞµÑ‡ĞºĞ°: {e}")
